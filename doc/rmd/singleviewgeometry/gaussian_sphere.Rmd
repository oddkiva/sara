## Vanishing Point

**THIS SECTION IS WIP**

In projective geometry, the projection of 3D lines in the camera film plane are
still line segments. However, the perspective projection does not preserve the
parallelism.

One remarkable property in projective geometry is that the projection of 3D
parallel lines onto an image plane is a set of 2D lines that intersect
altogether into a unique point: the so-called *vanishing point*.

### Terminology

Let us recall a bit of terminology.

- Any 3D scene point $X$ that lies in a 3D semi-line originating from the camera
  center $O$ **projects** exactly on a unique point $\mathbf{u}$ in the image
  plane.

We also like to say the other way around, in 3D reconstruction:

- A point $\mathbf{u}$ in the image plane **backprojects** to a 3D semi-line or
  equivalently to the 3D ray vector $\mathbf{r}_\mathbf{u}$ that parameterizes
  this semi-line.

Now let us take it further.

- a 2D line segment $(\mathbf{a}, \mathbf{b})$ in the image plane backprojects to
  a 3D half-plane $(\mathbf{O}, \mathbf{r}_\mathbf{a}, \mathbf{r}_\mathbf{b})$
  where $\mathbf{r}_\mathbf{a}$ and $\mathbf{r}_\mathbf{b}$ are respectively the
  backprojected rays of the 2D image points $\mathbf{a}$ and $\mathbf{b}$.

The backprojected 3D rays are the crux that will articulate our ideas about the
vanishing point.

This half-plane can be parameterized by its normal vector
$\mathbf{\Pi}(\mathbf{a}, \mathbf{b})$^[Let's omit the side of the half-plane
for now, which can be retrieved via a cheirality criterion], which we calculate
it analytically as:

\begin{equation}
\mathbf{\Pi}(\mathbf{a}, \mathbf{b}) =
\mathbf{r}_\mathbf{a} \times \mathbf{r}_\mathbf{b}.
\end{equation}

Said differently, a vanishing point can be traced from two 2D line segments
which backproject to two 3D planes that intersect at the camera center.
The intersection of the two 3D planes is a line, whose direction vector is the
3D ray obtained by backprojecting the vanishing point.

Two vanishing points in the images are orthogonal if they backproject to two
orthogonal vectors its plane normal $\Pi(l_i)$.
We can retrieve the 3rd orthogonal plane by calculating the cross-product

\begin{equation}
  \mathbf{\Pi}(l_3) = \mathbf{\Pi}(l_1) \times \mathbf{\Pi}(l_2).
\end{equation}

### Orthogonal Vanishing Point Detection

Detecting orthogonal vanishing point assumes that cameras are calibrated, that
is we know the camera parameters that explain the image formation.

We are now able to derive a natural algorithm that can compute the reference
frame of a Manhattan world. If we use RANSAC where we draw minimal samples of 3
line segments, we can infer the orientation of the camera with respect to the
Manhattan world frame. (**TODO:** Cite Bazin et al.)

This idea is as follows. A good sample of 3 line segments is a sample such that

- The first two image line segments are parallel and are used to construct a
  first vanishing point.
- The third line segment vanishes to a second vanishing point, which should be
  orthogonal to the first vanishing point.
- The third orthogonal vanishing point is obtained by cross-product.
In that case, the three orthogonal vanishing points are well supported by the
other line segments.

## Image of the Absolute Conic

**TODO:** this one important concept for self-calibration but mostly applicable to
the pinhole camera model.
